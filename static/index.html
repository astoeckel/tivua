<!DOCTYPE html>
<!--
* _______ _
* |__   __(_)
*    | |   ___   ___   _  __ _
*    | |  | \ \ / / | | |/ _` |
*    | |  | |\ V /| |_| | (_| |
*    |_|  |_| \_/  \__,_|\__,_|
*
* Shared research blog
*
* (c)  2019  Andreas Stoeckel -  https://github.com/astoeckel/tivua
-->
<html lang="en">
	<head>
		<meta charset="UTF-8">

		<title>Tivua</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="icon" type="image/svg+xml" href="images/favicon.svg" />
		<link rel="icon" type="image/png" href="images/favicon.png" />
		<link rel="apple-touch-icon" href="images/touch-icon.png" />
		<link rel="apple-touch-icon" sizes="152x152" href="images/touch-icon-152x152.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="images/touch-icon-180x180.png" />
		<link rel="apple-touch-icon" sizes="167x167" href="images/touch-icon-167x167.png" />

		<link rel="manifest" href="manifest.manifest" />

		<!-- STYLE BEGIN -->
		<link rel="stylesheet" href="styles/system-font.css" />
		<link rel="stylesheet" href="styles/style.css" />
		<link rel="stylesheet" href="lib/codemirror.css" />
		<link rel="stylesheet" href="lib/codemirror_tango.css" />
		<link rel="stylesheet" href="lib/katex.css" />
		<!-- STYLE END -->

		<!-- LOGIN VIEW -->
		<template id="tmpl_login_view">
			<div class="login_container">
				<main class="login">
					<div class="header">
						<img src="images/branding/logo.svg"/>
						<h1>%sign_in</h1>
						<div id="lbl_msg"></div>
					</div>
					<div class="container">
						<div id="pg_login_sel_method" class="page">
							<button id="btn_cas" class="preferred">%via_cas<span>%via_cas_descr</span></button>
							<button id="btn_username_password">%via_username_password<span>%via_username_password_descr</span></button>
							<div id="lbl_no_method"><p><strong>%error</strong></p><p>%error_msg_no_login_methods</p></div>
						</div>
						<div id="pg_login_username_password" class="page">
							<form id="frm_username_password">
								<label for="username">%username<span class="error"></span></label>
								<input id="username" type="text"/>
								<label for="password">%password<span class="error"></span></label>
								<input id="password" type="password"/>
								<input id="btn_login" type="submit" value="%login"/>
								<button id="btn_username_password_back">%back</button>
							</form>
						</div>
					</div>
					<select id="language"></select>
					<div class="copyright">%copyright_string_begin<a href="https://www.gnu.org/licenses/agpl-3.0.en.html">AGPL 3.0</a>%copyright_string_middle<a href="https://github.com/astoeckel/tivua/">https://github.com/astoeckel/tivua/</a>%copyright_string_end</div>
				</main>
			</div>
		</template>

		<!-- CARD VIEW -->
		<template id="tmpl_card_view">
			<header>
				<button id="btn_add" title="Add a new diary entry"><span class="icon"></span><span class="caption">Add entry</span></button>
				<div class="search">
					<span class="icon"></span>
					<input id="inp_search" type="search" placeholder="Filter by author, date, or content">
					<button id="btn_clear" class="icon" title="Clear the currently active filter"></button>
				</div>
				<button id="btn_view" class="table subtle" title="Toggle between continuous view and card view"><span class="icon"></span></button>
			</header>
			<main class="cards"></main>
			<footer>
				<div id="lbl_post">Post&nbsp;<span id="lbl_post_start"></span>&nbsp;to&nbsp;<span id="lbl_post_end"></span>&nbsp;of&nbsp;<span id="lbl_post_total"></span></div>
				<div class="spacer"></div>
				<div>
					<button id="btn_page_first" title="First page"><span class="icon"></span></button>
					<button id="btn_page_prev" title="Previous page"><span class="icon"></span></button>
					<select id="sel_page" title="Jump to page"></select>
					<button id="btn_page_next" title="Next page"><span class="icon"></span></button>
					<button id="btn_page_last" title="Last page"><span class="icon"></span></button>
				</div>
				<div class="spacer"></div>
				<div>
					<select id="sel_entry_count"></select>
				</div>
			</footer>
		</template>

		<!-- MAIN VIEW - WEEK SEPARATOR -->
		<template id="tmpl_card_view_week">
			<div class="week">
				<hr/>
				<span class="week"></span>
				<hr/>
				<span class="date_from"></span>&nbsp;to&nbsp;<span class="date_to"></span>
				<hr/>
				<span class="year"></span>
				<hr/>
			</div>
		</template>

		<!-- MAIN VIEW - CARD -->
		<template id="tmpl_card_view_card">
			<div class="entry">
				<div class="meta">
					<span class="author"></span>
					<span class="date"></span>
					<button class="icon edit"></button>
				</div>
			</div>
		</template>

		<!-- EDITOR VIEW -->
		<template id="tmpl_editor_view">
			<header>
				<button id="btn_back" class="subtle" title="Back to the main view"><span class="icon"></span></button>
				<h1>New entry</h1>
				<button id="btn_delete" class="subtle" title="Delete this entry"><span class="icon"></span><span class="caption">Delete</span></button>
				<button id="btn_save" title="Create new entry"><span class="icon"></span><span class="caption">Create & Save</span></button>
			</header>

			<main class="editor">
				<div class="row">
					<label for="author">Author</label>
					<label for="date">Date</label>
				</div>
				<div class="row">
					<input id="author" list="authors" placeholder="Your name">
					<input type="date" id="date" placeholder="Today's date">
				</div>
				<datalist id="authors"></datalist>
				<label for="inp_keywords">Keywords</label>
				<input id="inp_keywords" placeholder="Optional comma separated list of keywords">
				<label for="inp_content">Content</label>
				<textarea id="inp_content"></textarea>
			</main>
		</template>

		<!-- USER EDITOR -->
		<template id="tmpl_user_manager_view">
			<header>
				<button id="btn_back" class="subtle" title="Back to the main view"><span class="icon"></span></button>
				<h1>Manage Users</h1>
				<button id="btn_add" title="Add user"><span class="icon"></span><span class="caption">Add user</span></button>
			</header>

			<main class="user_manager">
				<table>
					<thead>
						<tr>
							<th></th>
							<th><span>Name</span></th>
							<th><span>User ID</span></th>
							<th><span>Role</span></th>
							<th><span>Login type</span></th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><span class="colorcircle"></span></td>
							<td><span>Andreas Stöckel</span></td>
							<td><span>astoecke</span></td>
							<td><span>Admin</span></td>
							<td><span>Password</span><button class="reset"><span class="icon"></span></button></td>
							<td>
								<button class="edit"><span class="icon"></span></button>
								<button class="delete"><span class="icon"></span></button>
							</td>
						</tr>
						<tr>
							<td><span class="colorcircle" style="background-color: #4e9a06"></span></td>
							<td><input class="edit_name" value="Andreas Stöckel"></td>
							<td><input class="edit_id" value="astoecke"></td>
							<td><select><option>Admin</option><option>Editor</option><option>Reader</option><option>Inactive</option></select></td>
							<td><select><option>Password</option><option>CAS</option></select></td>
							<td>
								<button class="apply"><span class="icon"></span></button>
								<button class="cancel"><span class="icon"></span></button>
							</td>
						</tr>
					</tbody>
				</table>
			</main>
		</template>

		<!-- GENERIC DIALOGUE -->
		<template id="tmpl_dialogue">
			<div class="dialogue">
				<h1></h1>
				<div class="message"></div>
				<div class="buttons"></div>
			</div>
		</template>

	</head>
	<body>
		<!-- LOADING SCREEN -->
		<div class="loading">
			<!-- Download all font variants ahead of time -->
			<span style="-webkit-user-select: none; opacity: 0.1; font-size: 1pt; color: white;">
				<span style="font-weight: normal; font-style: normal;">aäαĀ</span>
				<span style="font-weight: bold; font-style: normal;">aäαĀ</span>
				<span style="font-weight: normal; font-style: italic;">aäαĀ</span>
				<span style="font-weight: bold; font-style: italic;">aäαĀ</span>
				<span class="icon">&#xF002;</span>
			</span>

			<!-- Display the animated logo -->
			<svg width="40.88mm" height="40.88mm" version="1.1" viewBox="0 0 40.88 40.88" xmlns="http://www.w3.org/2000/svg">
				<g transform="translate(-30.49 -21.45)">
					<g transform="translate(-54.07 13.23)">
						<rect x="86.56" y="10.22" width="36.88" height="36.88" ry="6" fill="#75507b"/>
						<g transform="translate(79.2)">
							<path d="m22.49 16.54v7.938l-7.938 15.88h22.49l-7.938-15.88v-7.938l1.058 4.3e-5h-8.731z" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
							<path d="m18.52 32.42h14.55l3.969 7.937h-22.49z" fill="#fff"/>
							<g class="bubbles">
								<circle cx="23.13" cy="36.93" r="2.835" fill="#75507b"/>
								<circle cx="27.73" cy="29.87" r="1.819" fill="#fff"/>
								<circle cx="28.84" cy="34.99" r="1.677" fill="#75507b"/>
							</g>
						</g>
					</g>
				</g>
			</svg>

			<div class="copyright">Tivua. © 2019, Andreas Stöckel. Licensed under the <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">AGPL 3.0</a>. Report bugs at <a href="https://github.com/astoeckel/tivua/">https://github.com/astoeckel/tivua/</a>.</div>
		</div>

		<!-- LOAD ALL SCRIPTS -->
		<!-- SCRIPTS STUB BEGIN -->
		<script type="text/javascript" src="data/data.js"></script>
		<script type="text/javascript" src="scripts/xhr_stub.js"></script>
		<!-- SCRIPTS STUB END -->
		<!-- SCRIPTS BEGIN -->
		<script type="text/javascript" src="lib/l10n.js"></script>
		<script type="text/javascript" src="lib/sjcl.js"></script>
		<script type="text/javascript" src="lib/typo.js"></script>
		<script type="text/javascript" src="lib/codemirror.js"></script>
		<script type="text/javascript" src="lib/codemirror_markdown.js"></script>
		<script type="text/javascript" src="lib/codemirror_spell_checker.js"></script>
		<script type="text/javascript" src="lib/auto-complete.js"></script>
		<script type="text/javascript" src="lib/katex.js"></script>
		<script type="text/javascript" src="lib/markdown-it.js"></script>
		<script type="text/javascript" src="scripts/render.js"></script>
		<script type="text/javascript" src="scripts/colors.js"></script>
		<script type="text/javascript" src="scripts/time.js"></script>
		<script type="text/javascript" src="scripts/utils.js"></script>
		<script type="text/javascript" src="scripts/xhr.js"></script>
		<script type="text/javascript" src="scripts/api.js"></script>
		<script type="text/javascript" src="scripts/view/cards.js"></script>
		<script type="text/javascript" src="scripts/view/editor.js"></script>
		<script type="text/javascript" src="scripts/view/users.js"></script>
		<script type="text/javascript" src="scripts/view/login.js"></script>
		<script type="text/javascript" src="scripts/view/utils.js"></script>
		<script type="text/javascript" src="scripts/main.js"></script>
		<script type="text/javascript" src="l10n/l10n_data.js"></script>
		<!-- SCRIPTS END -->
	</body>
</html>
