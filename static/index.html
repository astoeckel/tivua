<!DOCTYPE html>
<!--
* _______ _
* |__   __(_)
*    | |   ___   ___   _  __ _
*    | |  | \ \ / / | | |/ _` |
*    | |  | |\ V /| |_| | (_| |
*    |_|  |_| \_/  \__,_|\__,_|
*
* Shared research blog
*
* (c)  2019  Andreas Stoeckel -  https://github.com/astoeckel/tivua
-->
<html lang="en">
	<head>
		<meta charset="UTF-8">

		<title>Tivua</title>

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="Content-Security-Policy"
		      content="default-src 'self'; script-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline';">

		<link rel="icon" type="image/svg+xml" href="images/favicon.svg" />
		<link rel="icon" type="image/png" href="images/favicon.png" />
		<link rel="apple-touch-icon" href="images/touch-icon.png" />
		<link rel="apple-touch-icon" sizes="152x152" href="images/touch-icon-152x152.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="images/touch-icon-180x180.png" />
		<link rel="apple-touch-icon" sizes="167x167" href="images/touch-icon-167x167.png" />

		<link rel="manifest" href="manifest.manifest" />

		<!-- STYLE BEGIN -->
		<link rel="stylesheet" href="styles/fonts.css" />
		<link rel="stylesheet" href="styles/tivua.css" />
		<link rel="stylesheet" href="styles/codemirror.css" />
		<link rel="stylesheet" href="styles/codemirror_tango.css" />
		<link rel="stylesheet" href="styles/katex.css" />
		<!-- STYLE END -->

		<!-- LOGIN VIEW -->
		<template id="tmpl_login_view">
			<div class="login_container">
				<main class="login">
					<div class="header">
						<img src="images/branding/logo.svg"/>
						<h1>%sign_in</h1>
						<div id="lbl_msg"></div>
					</div>
					<div class="container">
						<div id="pg_login_sel_method" class="page">
							<button id="btn_cas" class="preferred">%via_cas<span>%via_cas_descr</span></button>
							<button id="btn_username_password">%via_username_password<span>%via_username_password_descr</span></button>
							<div id="lbl_no_method"><p><strong>%error</strong></p><p>%error_msg_no_login_methods</p></div>
						</div>
						<div id="pg_login_username_password" class="page">
							<form id="frm_username_password">
								<label for="username">%username<span class="error"></span></label>
								<input id="username" type="text"/>
								<label for="password">%password<span class="error"></span></label>
								<input class="password" id="password" type="password"/>
								<input id="btn_login" type="submit" value="%login"/>
								<button id="btn_username_password_back">%back</button>
							</form>
						</div>
					</div>
					<select id="language"></select>
					<div class="copyright">%copyright_string_begin<a href="https://www.gnu.org/licenses/agpl-3.0.en.html">AGPL 3.0</a>%copyright_string_middle<a href="https://github.com/astoeckel/tivua/">https://github.com/astoeckel/tivua/</a>%copyright_string_end</div>
				</main>
			</div>
		</template>

		<!-- SEARCH BOX -->
		<template id="tmpl_searchbox">
			<div class="searchbox">
				<div class="annotations"></div>
				<div class="input">
					<span class="icon"></span>
					<input name="inp_search" spellcheck="false" placeholder="Filter by author, date, or content">
					<button name="btn_clear" class="icon" title="Clear the currently active filter"></button>
				</div>
			</div>
		</template>

		<!-- CARD VIEW -->
		<template id="tmpl_card_view">
			<header>
				<button id="btn_add" title="Add a new diary entry"><span class="icon"></span><span class="caption">Add entry</span></button>
				<div class="search"></div>
				<button id="btn_menu" class="subtle" title="%tooltip_menu"><span class="icon"></span></button>
			</header>
			<main class="cards"></main>
			<footer>
				<div id="lbl_post"></div>
				<div>
					<button id="btn_page_first" title="First page"><span class="icon"></span></button>
					<button id="btn_page_prev" title="Previous page"><span class="icon"></span></button>
					<select id="sel_page" title="Jump to page"></select>
					<button id="btn_page_next" title="Next page"><span class="icon"></span></button>
					<button id="btn_page_last" title="Last page"><span class="icon"></span></button>
				</div>
				<div>
					<select id="sel_entry_count"></select>
				</div>
			</footer>
		</template>

		<!-- MAIN VIEW - WEEK SEPARATOR -->
		<template id="tmpl_card_view_week">
			<div class="week">
				<hr/>
				<span class="week"></span>
				<hr/>
				<span class="date_from"></span>&nbsp;to&nbsp;<span class="date_to"></span>
				<hr/>
				<span class="year"></span>
				<hr/>
			</div>
		</template>

		<!-- MAIN VIEW - CARD -->
		<template id="tmpl_card_view_card">
			<div class="entry">
				<div class="meta">
					<span class="author"></span>
					<span class="date"></span>
					<button class="icon edit"></button>
				</div>
				<div class="content"></div>
				<div class="extra">
					<span class="tags"></span>
					<span class="history"></span>
				</div>
			</div>
		</template>

		<!-- MAIN VIEW - NO ENTRIES MESSAGE -->
		<template id="tmpl_card_view_welcome">
			<div class="message">
				<h1><span>üê£</span>%header_cards_welcome</h1>
				<span>%msg_cards_welcome</span>
			</div>
		</template>

		<template id="tmpl_card_view_no_results">
			<div class="message">
				<h1><span>üîç</span>%header_cards_no_results</h1>
				<span>%msg_cards_no_results</span>
			</div>
		</template>

		<!-- EDITOR VIEW -->
		<template id="tmpl_editor_view">
			<header>
				<button id="btn_back" class="subtle" title="Back to the main view"><span class="icon"></span></button>
				<h1>%header_new_entry</h1>
				<button id="btn_delete" class="subtle" title="Delete this entry"><span class="icon"></span><span class="caption">%btn_delete</span></button>
				<button id="btn_save" title="Create new entry"><span class="icon"></span><span class="caption">%btn_create_and_save</span></button>
			</header>

			<main class="editor">
				<div class="row">
					<label for="sel_author">%lbl_author<span class="error"></span></label>
					<label for="inp_date">%lbl_date<span class="error"></span></label>
				</div>
				<div class="row">
					<select id="sel_author" placeholder="%placeholder_name"></select>
					<input type="date" id="inp_date" placeholder="%placeholder_date">
				</div>
				<label for="inp_keywords">%lbl_keywords<span class="error"></span></label>
				<input id="inp_keywords" placeholder="%placeholder_keywords">
				<label for="inp_content">%lbl_content<span class="error"></span></label>
				<textarea id="inp_content"></textarea>
			</main>
		</template>

		<!-- PREFERENCES -->
		<template id="tmpl_preferences">
			<header>
				<button id="btn_back" class="subtle" title="Back to the main view"><span class="icon"></span></button>
				<h1>Preferences</h1>
				<button name="btn_save" title="%msg_done"><span class="icon"></span><span class="caption">Save changes</span></button>
			</header>

			<main class="preferences">
				<section name="sec_force_change_password">
					<h1>‚ö† Please enter a new password</h1>
					<p><emph>You're currently using a temporary password. Before you can continue to use Tivua, you must set a new password.</emph></p>
					<p>Please contact your administrator in case you ever forget your password.</p>
				</section>
				<section name="sec_user_details">
					<h1>User details</h1>
					<p>This section shows your login name and allows you to edit your display name.</p>
					<label for="inp_user_name"><span>Login name</span>This is the user name you use for signing into Tivua. Please contact your administrator if you would like to change your login name.</label>
					<div class="row">
						<input id="inp_user_name" value="astoecke"  disabled />
					</div>
					<label for="inp_display_name""><span>Display name<span class="error">Test</span></span>This is how your name will be displayed to yourself and other users.</label>
					<div class="row">
						<input id="inp_display_name" value="Andreas St√∂ckel"/>
					</div>
				</section>
				<section name="sec_password">
					<h1>Password</h1>
					<p>This section allows you to change your password. To change your password, type in your current password and confirm your new password twice.</p>
					<label for="password"><span>Current password<span class="error"></span></span>To confirm that you want to change your password, type in your current password.</label>
					<div class="row password">
						<input class="password" id="password" type="password"/>
						<button title="Reveal/hide password" class="hidden"><span class="icon"></span></button>
					</div>
					<label for="password_new"><span>New password<span class="error"></span></span>Type in your new password. Your password must be at least eight characters long. It may contain arbitrary letters, digits, and symbols, but not whitespace.</label>
					<div class="row password">
						<input class="password" id="password_new" type="password" autocomplete="off"/>
						<button title="Reveal/hide password" class="hidden"><span class="icon"></span></button>
					</div>
					<div class="row">
						<progress id="prg_password_strength" value="0" max="100"></progress>
					</div>
					<div class="row">
						<span>Password strength:</span>
						<span id="lbl_password_strength" class="strength">No password entered</span>
					</div>
					<label for="password_new_repeat"><span>Repeat new password<span class="error"></span></span>Repeat your new password.</label>
					<div class="row password">
						<input class="password" id="password_new_repeat" type="password" autocomplete="off"/>
						<button title="Reveal/hide password" class="hidden"><span class="icon"></span></button>
					</div>
				</section>
				<section>
					<div class="buttons">
						<button name="btn_save" tabindex="-1"><span class="icon"></span><span class="caption">Save changes</span></button>
					</div>
				</section>
			</main>
		</template>

		<!-- USER EDITOR -->
		<template id="tmpl_user_manager_view">
			<header>
				<button id="btn_back" class="subtle" title="Back to the main view"><span class="icon"></span></button>
				<h1>Manage Users</h1>
				<button id="btn_add" title="Add user"><span class="icon"></span><span class="caption">Add user</span></button>
			</header>

			<main class="user_manager">
				<table>
					<thead>
						<tr>
							<th></th>
							<th><span>Name</span></th>
							<th><span>User ID</span></th>
							<th><span>Role</span></th>
							<th><span>Login type</span></th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><span class="colorcircle"></span></td>
							<td><span>Andreas St√∂ckel</span></td>
							<td><span>astoecke</span></td>
							<td><span>Admin</span></td>
							<td><span>Password</span><button class="reset"><span class="icon"></span></button></td>
							<td>
								<button class="edit"><span class="icon"></span></button>
								<button class="delete"><span class="icon"></span></button>
							</td>
						</tr>
						<tr>
							<td><span class="colorcircle" style="background-color: #4e9a06"></span></td>
							<td><input class="edit_name" value="Andreas St√∂ckel"></td>
							<td><input class="edit_id" value="astoecke"></td>
							<td><select><option>Admin</option><option>Editor</option><option>Reader</option><option>Inactive</option></select></td>
							<td><select><option>Password</option><option>CAS</option></select></td>
							<td>
								<button class="apply"><span class="icon"></span></button>
								<button class="cancel"><span class="icon"></span></button>
							</td>
						</tr>
					</tbody>
				</table>
			</main>
		</template>

		<!-- HELP PAGE -->
		<template id="tmpl_help">
			<header>
				<button id="btn_back" class="subtle" title="Back to the main view"><span class="icon"></span></button>
				<h1>Help</h1>
			</header>

			<main class="help">
				<section name="help_markdown_section">
					<h1>Markdown</h1>
					<p>Markdown can be used within posts. Here is a quick reference of some helpful markdown expressions.</p>
					<table>
						<thead>
						<tr>
							<th></th>
							<th><span>Display</span></th>
							<th><span>Markdown</span></th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr><th colspan="4">Headers</th></tr>
						<tr>
							<td></td>
							<td><span><h1>Header 1</h1></span></td>
							<td><p># Heading 1 # <br> or <br> ============= (below H1 text)</p></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td><span><h2>Heading 2</h2></span></td>
							<td><p>## Heading 2 ## <br> or <br> --------------- (below H2 text)</p></td>
							<td></td>
						</tr>	
						<tr>
							<td></td>
							<td><span><h3>Heading 3</h3></span></td>
							<td><span>### Heading 3 ###</span></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td><span><h4><em>Heading 4</h4></strong></span></td>
							<td><span>#### Heading 4 ####</span></td>
							<td></td>
						</tr>
						<tr><th colspan="4">Text Effects</th></tr>
						<tr>
							<td></td>
							<td><span><em>Emphasized text</em></span></td>
							<td><p>_Emphasized text_ <br> or <br> *Emphasized text*</p></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td><span><s>Strikethrough text</s></span></td>
							<td><span>~~Strikethrough text~~</span></td>
							<td></td>
						</tr>	
						<tr>
							<td></td>
							<td><span><strong>Strong text</strong></span></td>
							<td><p>__Strong text__ <br> or <br> **Strong text**</p></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td><span><strong><em>Strong emphasized text</em></strong></span></td>
							<td><p>___Strong emphasized text___ <br> or <br> ***Strong emphasized text***</p></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td><span><a href="http://www.google.com/">Link text</a></span></td>
							<td><span>[Link text](http://www.google.com/ "Link text") and http://www.google.com/ or &lt;http://example.com/&gt;</span></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td><span>
								<blockquote>
									<p>Blockquote</p>
								</blockquote>
							</span></td>
							<td>> Blockquote</td>
							<td></td>
						</tr>
						<tr><th colspan="4">Lists</th></tr>
						<tr>
							<td></td>
							<td align="center"><span>
									<ul>
										<li>First</li>
										<li>Second</li>
											<ul>
												<li>A </li>
												<li>B</li>
											</ul>
										<li>Third</li>
									</ul>
							</span></td>
							<td><span>
								<p>* First<br>
								* Second<br>
								<span style="padding-left:2em">* A</span><br>
								<span style="padding-left:2em">* B</span><br>
								* Third</p>
							</span></td>
							<td></td>
						</tr>
						<tr>
							<td></td>
							<td><span style="padding-left:2em">
								<ol>
									<li>First</li>
									<li>Second</li>
										<ol>
											<li>A </li>
											<li>B</li>
										</ol>
									<li>Third</li>
								</ol>
							</span></td>
							<td><span>  
								<p>1. First<br>
								2. Second<br>
								<span style="padding-left:2em">1. A</span><br>
								<span style="padding-left:2em">2. B</span><br>
								3. Third </p>
							</span></td>
							<td></td>
						</tr>
						<tr><th colspan="4">Tables</th></tr>
						<tr>
							<td></td>
							<td><span>
								<table>
									<thead>
									<tr>
										<th><span>First Header</span></th>
										<th><span>Second Header</span></th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>Content Cell</td>
										<td>Content Cell</td>
									</tr>
									<tr>
											<td>Content Cell</td>
											<td>Content Cell</td>
										</tr>
								</tbody>
								</table>
							</span></td>
							<td><span>
									<p>First Header  | Second Header<br>
									-------------------- | -------------------- <br>
									Content Cell  | Content Cell<br>
									Content Cell  | Content Cell</p>
							</span></td>
							<td></td>
						</tr>
						<tr><th colspan="4">Lines</th></tr>
						<tr>
							<td></td>
							<td><hr></td>
							<td>- - - -</td>
							<td></td>
						</tr>
						<tr><th colspan="4">Images</th></tr>
						<tr>
							<td></td>
							<td><img src="https://en.wikipedia.org/wiki/Tivua_Island#/media/File:Tivua_Island,_Mamanucas_Islands,_Fiji,_2011.jpg" alt="Tivua" /></td>
							<td>![pic alt](https://image_url.jpg "Title is optional")</td>
							<td></td>
						</tr>
						
					</tbody>
					</table>


				</section>
				<section name="help_search_section">
					<h1>Search expressions</h1>
					<p>To filter over posts made by a particular user type <em>user:username</em> into the serarhcbar OR start typing in the author's name and select the result.</p>
					<p>To filter over posts with certain keywords type <em>#keyword</em> OR start typing the keyword</p>
					<p> To search for an exact quote search with quotations, e.g. <em>"an exact pharse"</em>. </p>
					
				</section>
			</main>
			<!-- <div class="content"></div>-->
		</template>


		<!-- GENERIC DIALOGUE -->
		<template id="tmpl_dialogue">
			<div class="dialogue">
				<h1></h1>
				<div class="message"></div>
				<div class="buttons"></div>
			</div>
		</template>

		<!-- MENU -->
		<template id="tmpl_menu">
			<div class="overlay opaque sidebar" tabindex="0">
				<div class="menu">
					<h1 class="user">
						<span class="user_name"></span>
						<span class="user_emblem" title="%lbl_menu_close"><span class="user_initials"></span></span>
					</h1>
					<div class="view_buttons">
						<button id="btn_card_view"><span class="icon"></span><span class="caption">%lbl_card_view</span></button>
						<button id="btn_list_view"><span class="icon"></span><span class="caption">%lbl_list_view</span></button>
					</div>
					<ul>
						<li><a href="#users"><span class="icon"></span><span class="caption">%lbl_menu_user_manager</span></a></li>
						<li><a href="#preferences"><span class="icon"></span><span class="caption">%lbl_menu_preferences</span></a></li>
						<li><a href="#help"><span class="icon"></span><span class="caption">%lbl_menu_help</span></a></li>
						<li><a href="#logout"><span class="icon"></span><span class="caption">%lbl_menu_logout</span></a></li>
						<li><a href="#" class="close"><span class="icon"></span><span class="caption">%lbl_menu_close</span></a></li>
					</ul>
				</div>
			</div>
		</template>

	</head>
	<body>
		<!-- LOADING SCREEN -->
		<div class="loading">
			<!-- Download all font variants ahead of time -->
			<span style="-webkit-user-select: none; opacity: 0.1; font-size: 1pt; color: white;">
				<span style="font-weight: normal; font-style: normal;">a√§Œ±ƒÄ</span>
				<span style="font-weight: bold; font-style: normal;">a√§Œ±ƒÄ</span>
				<span style="font-weight: normal; font-style: italic;">a√§Œ±ƒÄ</span>
				<span style="font-weight: bold; font-style: italic;">a√§Œ±ƒÄ</span>
				<span class="icon">&#xF002;</span>
			</span>

			<!-- Display the animated logo -->
			<svg width="40.88mm" height="40.88mm" version="1.1" viewBox="0 0 40.88 40.88" xmlns="http://www.w3.org/2000/svg">
				<g transform="translate(-30.49 -21.45)">
					<g transform="translate(-54.07 13.23)">
						<rect x="86.56" y="10.22" width="36.88" height="36.88" ry="6" fill="#75507b"/>
						<g transform="translate(79.2)">
							<path d="m22.49 16.54v7.938l-7.938 15.88h22.49l-7.938-15.88v-7.938l1.058 4.3e-5h-8.731z" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
							<path d="m18.52 32.42h14.55l3.969 7.937h-22.49z" fill="#fff"/>
							<g class="bubbles">
								<circle cx="23.13" cy="36.93" r="2.835" fill="#75507b"/>
								<circle cx="27.73" cy="29.87" r="1.819" fill="#fff"/>
								<circle cx="28.84" cy="34.99" r="1.677" fill="#75507b"/>
							</g>
						</g>
					</g>
				</g>
			</svg>

			<div class="copyright">Tivua. ¬© 2019, Andreas St√∂ckel. Licensed under the <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">AGPL 3.0</a>. Report bugs at <a href="https://github.com/astoeckel/tivua/">https://github.com/astoeckel/tivua/</a>.</div>
		</div>

		<noscript>
			<form action="index.html" method="GET">
			<div class="overlay opaque">
				<div class="dialogue">
					<h1><span>ü§ñ&nbsp;</span>Please enable JavaScript</h1>
					<div class="message">Unfortunately, <i>Tivua</i> needs JavaScript to work properly. Please enable JavaScript in your browser and try again.</div>
					<div class="buttons">
						<button class="btn_reload"><span class="icon"></span><span class="caption">Reload</span></button>
					</div>
				</div>
			</div>
			</form>
		</noscript>

		<!-- SCRIPT STUB BEGIN -->
		<script src="data/data.js"></script>
		<script src="scripts/xhr_stub.js"></script>
		<!-- SCRIPT STUB END -->
		<!-- SCRIPT BEGIN -->
		<script src="extern/codemirror.js"></script>
		<script src="extern/codemirror_markdown.js"></script>
		<script src="extern/codemirror_spell_checker.js"></script>
		<script src="extern/sjcl.js"></script>
		<script src="extern/stemmer.js"></script>
		<script src="extern/typo.js"></script>
		<script src="extern/tagger.js"></script>
		<script src="extern/auto-complete.js"></script>
		<script src="extern/markdown-it.js"></script>
		<script src="extern/katex.js"></script>
		<script src="scripts/render.js"></script>
		<script src="scripts/filter.js"></script>
		<script src="scripts/colors.js"></script>
		<script src="scripts/time.js"></script>
		<script src="scripts/utils.js"></script>
		<script src="scripts/xhr.js"></script>
		<script src="scripts/api.js"></script>
		<script src="scripts/view/components/searchbox.js"></script>
		<script src="scripts/view/cards.js"></script>
		<script src="scripts/view/editor.js"></script>
		<script src="scripts/view/help.js"></script>
		<script src="scripts/view/login.js"></script>
		<script src="scripts/view/menu.js"></script>
		<script src="scripts/view/preferences.js"></script>
		<script src="scripts/view/users.js"></script>
		<script src="scripts/view/utils.js"></script>
		<script src="scripts/main.js"></script>
		<script src="l10n/l10n_data.js"></script>
		<!-- SCRIPT END -->
	</body>
</html>
