/*
 *  TIVUA -- Shared research blog
 *  Copyright (C) 2019  Andreas Stöckel
 *
 *  https://github.com/astoeckel/tivua
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as
 *  published by the Free Software Foundation, either version 3 of the
 *  License, or (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

/******************************************************************************
 * CSS RESET                                                                  *
 ******************************************************************************/

/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
	position: relative;
	min-height: 100%;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}

button, input, select {
	font: inherit;
}

button, input[type="submit"] {
	cursor: pointer;
}

@font-face {
	font-family: 'Font Awesome 5 Free';
	font-style: normal;
	font-weight: 900;
	src: url('fonts/fa-solid-900.woff2') format('woff2');
}

/******************************************************************************
 * DEFINE COLOR VARIABLES                                                     *
 ******************************************************************************/
:root {
	--box-highlight-color: #f0f0f0;
	--bright-button-color: #666;
	--main-font-color: #333;
	--default-background-color: white;
	--main-ui-color: #5c3566;
	--shadow-color: rgba(100, 120, 140, 0.25);
	--transparent-color: rgba(255, 255, 255, 0.0);
	--dim-background-color: rgba(255, 255, 255, 0.5);
	--transparent-black: rgba(0,0,0,.1);
	--highlight-color: #edd400;
	--week-color: #555753;
	--card-footer-color: #fafafa;
	--user-manager-color: #2e3436;

	--error-color: #a40000;
	--success-color: #4e9a06;
	--success-background-color: #d5ebd7;
	--success-background-highlight-color: #e2eee3;

	--password-weak-color: #a40000;
	--password-good-color: #c4a000;
	--password-strong-color: #4e9a06;
}

/******************************************************************************
 * STANDARD TEXT LAYOUT ELEMENTS                                              *
 ******************************************************************************/

h1, h2, h3 {
	line-height: 1.25em;
}

b, strong {
	font-weight: bold;
}

i, em {
	font-style: italic;
}

ul {
	list-style: disc outside;
}

ul ul {
	list-style: circle outside;
}

ol {
	list-style: decimal outside;
}

li {
}

code {
	font-family: monospace;
	background-color: var(--box-highlight-color);
}

pre code {
	background-color: transparent;
}

a:link,
a:visited {
	transition: 0.1s;
	color: var(--bright-button-color);
	text-decoration: underline;
}

a:hover {
	background-color: var(--main-font-color);
	color: var(--default-background-color);
}

a:visited:hover {
	background-color: var(--main-font-color);
	color: var(--default-background-color) !important;
}

.copied_to_clipboard {
	background-color: var(--highlight-color);
}

/******************************************************************************
 * ICONS                                                                      *
 ******************************************************************************/

.icon {
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
	font-family: 'Font Awesome 5 Free';
	font-weight: 900;
	font-style: normal;
	font-variant: normal;
	text-rendering: auto;
}

/******************************************************************************
 * OVERALL GRID LAYOUT                                                        *
 ******************************************************************************/

html, body {
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;

	/* Main font and colour */
	background-color: var(--box-highlight-color);
	background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAAAAAB5Gfe6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gwWFyIiTGFHWgAAAW5JREFUeNrt2LENACEMBEEM/ffrBInYtHBD9oSj10ls9co+1Wde3LDvHf4DAAAAAAAAAAAAAAAAAEDqc1gP0ANsAAAAAAAAAAAAAAAAAADoAXqAHmADAAAAAAAAAAAAAAAAAEAP0AP0ABsAAAAAAAAAAAAAAAAAAHqAHqAH2AAAAAAAAAAAAAAAAAAA0AP0AD3ABgAAAAAAAAAAAAAAAACAHqAH6AE2AAAAAAAAAAAAAAAAAAD0AD1AD7ABAAAAAAAAAAAAAAAAAKAH6AF6gA0AAAAAAAAAAAAAAAAAAD1AD9ADbAAAAAAAAAAAAAAAAAAA6AF6gB5gAwAAAAAAAAAAAAAAAABAD9AD9AAbAAAAAAAAAAAAAAAAAAB6gB6gB9gAAAAAAAAAAAAAAAAAANAD9AA9wAYAAAAAAAAAAAAAAAAAgB6gB+gBNgAAAAAAAAAAAAAAAAAA9AA9QA+wAQAAAAAAAAAAAAAAAADwnwdCrhEg0vFPZgAAAABJRU5ErkJggg==');
	color: var(--main-font-color);
	font-family: 'Roboto', sans-serif;
	font-size: 11pt;
}

button {
	color: var(--main-font-color);
	cursor: pointer;
	display: flex;
	justify-content: center;
	align-items: center;
	color: var(--main-ui-color);
}

body > * {
	padding: 1rem;
	margin: 0;
}

header, footer {
	position: fixed;
	overflow: hidden;
	left: 0;
	right: 0;
	background-color: var(--default-background-color);
	box-sizing: border-box;
}

header {
	height: 5rem;
	top: 0;
}

footer {
	height: 3rem;
	bottom: 0;
}

header, footer {
	z-index: 1;
	box-shadow: var(--shadow-color) 0 0 5px;
}

/******************************************************************************
 * FORM ELEMENT                                                               *
 ******************************************************************************/

input,
textarea,
div.tagger,
div.CodeMirror {
	background-color: var(--box-highlight-color);
	border: var(--box-highlight-color) 2px solid;

	padding: 0.5rem;
	font-size: inherit;
	font-family: inherit;
	color: inherit;
	border-radius: 3px;
}

main.editor div.CodeMirror,
textarea {
	font-family: monospace;
	line-height: 1.5;
	background-color: var(--default-background-color);
	resize: none;
}

div.tagger.focused,
input:focus,
textarea:focus,
main.editor div.CodeMirror-focused {
	background-color: var(--default-background-color);
	box-shadow: var(--shadow-color) 2px 2px 5px;
	border: var(--main-ui-color) 2px solid;
}

select {
	background-color: var(--box-highlight-color);
	border: 2px solid var(--box-highlight-color);
	border-radius: 3px;
}

select {
	-webkit-appearance: button;
	-moz-appearance: button;
	padding-left: 0.25rem;
	padding-right: 1.25rem;
	background: url("data:image/svg+xml;utf8,%3Csvg%20width%3D'4mm'%20height%3D'2.6mm'%20version%3D'1.1'%20viewBox%3D'0%200%202.6%202.6'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cg%20transform%3D'translate(-1.3%20-2)'%3E%3Cpath%20d%3D'm1.3%202%201.3%202.6%201.3-2.6z'%20fill%3D'%23333'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") no-repeat right var(--box-highlight-color);
}

select:disabled {
	background: url("data:image/svg+xml;utf8,%3Csvg%20width%3D'4mm'%20height%3D'2.6mm'%20version%3D'1.1'%20viewBox%3D'0%200%202.6%202.6'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cg%20transform%3D'translate(-1.3%20-2)'%3E%3Cpath%20d%3D'm1.3%202%201.3%202.6%201.3-2.6z'%20fill%3D'%23999'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") no-repeat right var(--box-highlight-color);
}

input.password.revealed {
	font-family: monospace;
}

button > span.caption {
	margin-left: 0.6rem;
}

button > span.icon::before {
	display: inline-block;
	position: relative;
	font-size: 150%;
}

button.btn_reload .icon::before {
	content: "\f2f1";
}

button.btn_confirm .icon::before {
	content: "\f058";
}

button.btn_cancel .icon::before {
	content: "\f057";
}

button.btn_delete .icon::before {
	content: "\f2ed";
}

/******************************************************************************
 * TAGGER                                                                     *
 ******************************************************************************/

div.tagger {
	cursor: text;
	padding: 0;
	position: relative;
	line-height: 2.1rem;
}

div.tagger li, div.tagger ul {
	display: inline-block;
}

div.tagger li span {
	margin: 0 0.25em;
	padding: 0.25em 0.25em;
	background-color: var(--main-ui-color);
	color: var(--default-background-color);
	border-radius: 0.25em;
	font-weight: bold;
	text-transform: lowercase;
}

div.tagger li span a.close {
	text-decoration: none;
	color: var(--default-background-color);
}

div.tagger input {
	border: none !important;
	padding: 0 0.5rem !important;
	margin: 0.1rem 0 !important;
	background: transparent !important;
	box-shadow: none !important;
	border-radius: 0 !important;
	font-size: inherit;
	line-height: inherit;
}

div.tagger input:focus {
	outline: 0;
}

/******************************************************************************
 * HEADER MENU                                                                *
 ******************************************************************************/

header {
	display: flex;
	align-items: stretch;
}

header h1 {
	flex: 1 0 auto;
	line-height: 3rem;
	color: var(--main-ui-color);
	font-weight: normal;
	font-size: 200%;
}

header > button {
	transition: 0.1s;
	flex: 0 0 auto;
	background-color: var(--main-ui-color);
	color: var(--default-background-color);
	box-shadow: var(--shadow-color) 2px 2px 5px;
	font-weight: bold;
	border: 2px solid var(--main-ui-color);
	border-radius: 2rem;
	padding: 0 1.25rem;
}

button:hover:not(:disabled) {
	opacity: 0.75;
}

header > button:active:not(:disabled) {
	position: relative;
	top: 1px;
	left: 1px;
	box-shadow: var(--shadow-color) 1px 1px 5px;
}

header > :not(:last-child) {
	margin-right: 1rem;
}


/******************************************************************************
 * HEADER MENU -- SPECIFIC BUTTONS                                            *
 ******************************************************************************/

button.subtle {
	background-color: var(--default-background-color);
	color: var(--main-ui-color);
	font-weight: normal;
}

header button#btn_add .icon::before {
	border: 2px solid var(--main-ui-color);
	font-size: 200%;
	content: "\f067";
}

header button#btn_menu .icon::before {
	content: "\f13a";
}

header button#btn_view {
	display: none;
}

header button#btn_view.grid .icon::before {
	content: "\f009";
}

header button#btn_view.table .icon::before {
	content: "\f039";
}

header button#btn_delete .icon::before {
	content: "\f2ed";
}

button[name="btn_save"] .icon::before,
header button#btn_save .icon::before {
	content: "\f058";
}

header button#btn_back .icon::before {
	content: "\f0a8";
}

/******************************************************************************
 * HEADER MENU -- SEARCHBOX                                                   *
 ******************************************************************************/

header div.search {
	flex: 1 0 10rem;
}

/******************************************************************************
 * SEARCHBOX                                                                  *
 ******************************************************************************/

div.searchbox {
	position: relative;
	width: 100%;
	height: 100%;
	transition: 0.1s;
	border: var(--box-highlight-color) 2px solid;
	border-radius: 3px;
	background-color: var(--box-highlight-color);
}

div.searchbox.error {
	border: 2px dashed var(--error-color) !important;
}

div.searchbox:hover {
	border: 2px solid var(--main-ui-color);
	box-shadow: var(--shadow-color) 2px 2px 5px;
}

div.searchbox:focus-within {
	border: var(--main-ui-color) 2px solid;
	background-color: var(--default-background-color);
	box-shadow: var(--shadow-color) 2px 2px 5px;
}

div.searchbox > div { /* Individual layers */
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
}

div.searchbox div.annotations {
	padding: 0 3rem 0 2.5rem;
	overflow: hidden;
	display: flex;
	align-items: center;
	color: var(--bright-button-color);
}

div.searchbox div.annotations span {
	white-space: pre;
	display: inline-block;
}

div.searchbox div.annotations span.leaf {
	color: var(--main-font-color);
	padding: 0.5em 0;
}

div.searchbox div.annotations span.error {
	font-style: normal;
	color: var(--error-color);
	text-decoration: underline;
	text-decoration-style: wavy;
	text-decoration-color: var(--error-color);
}

div.searchbox div.annotations span.binary_op,
div.searchbox div.annotations span.unary_op {
	color: var(--bright-button-color);
	text-decoration: underline;
	text-decoration-style: dotted;
}

div.searchbox div.annotations span.filter.user,
div.searchbox div.annotations span.filter.tag {
	font-weight: bold;
	letter-spacing: -0.0085em;
	/*margin: -2px;
	border: 2px solid transparent;*/
}

div.searchbox div.annotations span.filter.user {
	border-radius: 0.25em;
	color: var(--default-background-color);
	background-color: var(--bright-button-color);
}

div.searchbox div.annotations span.filter.tag {
	background-color: var(--highlight-color);
}

div.searchbox div.annotations span.filter.date {
	border: 1px dashed var(--bright-button-color);
	margin: -1px;
}

div.searchbox input {
	width: 100%;
	height: 100%;
	padding: 0 3rem 0 2.5rem;
	font: inherit;
	box-sizing: border-box;
	border: none !important;
	background: transparent !important;
	outline: none !important;
	box-shadow: none !important;
}

div.searchbox input.hidden {
	color: var(--transparent-color);
}

div.searchbox span.icon,
div.searchbox button {
	display: block;
	position: absolute;
	top: calc(50% - 1rem);
	text-align: center;
	height: 2rem;
	line-height: 2rem;
}

div.searchbox span.icon {
	left: 1rem;
	width: 1rem;
}

div.searchbox span.icon::before {
	color: var(--bright-button-color);
	content: "\F002";
}

div.searchbox button {
	right: 0.5rem;
	width: 2rem;

	background: none;
	border: none;
}

div.searchbox button::before {
	content: "\F00D";
	color: var(--bright-button-color);
}

/******************************************************************************
 * FOOTER MENU                                                                *
 ******************************************************************************/

footer, footer > div {
	display: flex;
	justify-content: space-between;
	align-items: center;
}

footer {
	padding: 0.5rem;
}

footer > div {
	padding: 0;
	margin: 0;
}

footer button {
	background-color: var(--box-highlight-color);
	border: 2px solid var(--box-highlight-color);
	border-radius: 3px;
	font-weight: inherit;
	color: inherit;
	width: 2rem;
	height: 2rem;
	margin: 0 0.1rem;
	padding: 0;
}

footer select {
	background: url("data:image/svg+xml;utf8,%3Csvg%20width%3D'4mm'%20height%3D'2.646mm'%20version%3D'1.1'%20viewBox%3D'0%200%204%202.646'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cg%20transform%3D'translate(-1.323%20-1.99)'%3E%3Cpath%20d%3D'm1.323%204.635%201.323-2.646%201.323%202.646z'%20fill%3D'%23333'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") no-repeat right var(--box-highlight-color);
}

select::after {
	font-family: "Font Awesom 5.0 Free";
	font-weight: 900;
	content: "AAAA";
}

select:hover:not(:disabled),
input:hover:not(:disabled),
button:hover:not(:disabled) {
	border: 2px solid var(--main-ui-color);
	box-shadow: var(--shadow-color) 2px 2px 5px;
}

select:active:not(:disabled),
input:active:not(:disabled),
button:active:not(:disabled) {
	box-shadow: var(--shadow-color) 1px 1px 5px;
}

input:disabled,
select:disabled,
button:disabled {
	cursor: default !important;
	color: var(--bright-button-color) !important;
	border-color: var(--transparent-color) !important;
	text-shadow: 1px 1px 0 var(--default-background-color) !important;
}

select {
	height: 2rem;
}

footer button#btn_page_first .icon::before {
	content: "\f100";
}

footer button#btn_page_prev .icon::before {
	content: "\f104";
}

footer button#btn_page_next .icon::before {
	content: "\f105";
}

footer button#btn_page_last .icon::before {
	content: "\f101";
}

footer #lbl_post {
	display: block;
}

/******************************************************************************
 * MAIN LOGIN VIEW                                                            *
 ******************************************************************************/

div.login_container {
	padding: 0;
	margin: 0;
	width: 100%;
	height: 100%;
	overflow: auto;
	display: flex;
	flex-direction: column;
}

main.login {
	overflow: hidden;
	background-color: var(--default-background-color);
	border: 2px solid var(--main-ui-color);
	max-width: 30rem;
	margin: auto;
	padding: 2rem;
	flex: 0 0 auto;
	box-sizing: border-box;

	display: grid;
	grid-gap: 2rem 0;

	line-height: 1.5;
}

main.login .container {
	position: relative;
	overflow: hidden;
	display: flex;
}

main.login .page {
	position: relative;
	flex: 0 0 100%;
	width: 100%;
	display: grid;
	grid-gap: 1rem 0;
	min-height: 18.5rem;
}

main.login form {
	display: grid;
	grid-gap: 0.5rem 0;
}

main.login form label {
	margin-bottom: -0.5rem;
}

main.login form input[type="text"],
main.login form input[type="password"] {
	margin-bottom: 0.5rem;
}

select.error,
input.error,
div.tagger.error {
	border: 2px dashed var(--error-color) !important;
}

label {
	position: relative;
}

span.error {
	color: var(--error-color);
	font-weight: normal;
	font-style: italic;
}

label span.error {
	position: absolute;
	right: 0%;
}

.busy {
	background-image: url("data:image/svg+xml;utf8,%3Csvg%20width%3D%2232%22%20height%3D%2232%22%20version%3D%221.1%22%20viewBox%3D%220%200%208.4666665%208.4666669%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20transform%3D%22translate(0%20-288.53)%22%20fill%3D%22none%22%20stroke%3D%22%23fff%22%20stroke-opacity%3D%22.75%22%20stroke-width%3D%221.5%22%3E%3Cpath%20d%3D%22m-1.3229%20298.32%2010.583-10.583%22%2F%3E%3Cpath%20transform%3D%22translate(-1.5875%20-1.5875)%22%20d%3D%22m-1.3229%20293.03%206.6146-6.6146%22%2F%3E%3Cpath%20transform%3D%22translate(1.5875%201.5875)%22%20d%3D%22m3.9688%20298.32%206.6146-6.6146%22%2F%3E%3Cpath%20transform%3D%22translate(-2.1167%20-2.1167)%22%20d%3D%22m-1.3229%20298.32%2010.583-10.583%22%2F%3E%3Cpath%20transform%3D%22translate(2.1167%202.1167)%22%20d%3D%22m-1.3229%20298.32%2010.583-10.583%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E");
	background-repeat: repeat;
	background-size: 32px 32px;

	animation-name: MOVE-BG;
	animation-duration: 1s;
	animation-timing-function: linear;
	animation-iteration-count: infinite;
}

@keyframes MOVE-BG {
	from {
		background-position: 0px 0px;
	}
	to { 
		background-position: 32px 0px;
	}
}

main.login img {
	width: 100%;
	max-height: 12.5rem;
}

main.login h1 {
	text-align: center;
	color: var(--main-ui-color);
	font-weight: bold;
	font-size: 200%;
	text-transform: uppercase;
}

main.login h1 span {
	display: block;
	font-size: 50%;
}

main.login h2 {
	text-align: center;
	text-transform: uppercase;
}

main.login button span {
	display: block;
	font-weight: normal;
	font-size: 75%;
	padding-top: 0.5rem;
}

main.login button {
	flex-direction: column;
}

main.login button,
main.login input[type="submit"] {
	border: 2px solid var(--main-ui-color);
	padding: 1rem 2rem;
	background-color: var(--default-background-color);
	font: inherit;
}

main.login button.preferred,
main.login input[type="submit"] {
	background-color: var(--main-ui-color);
	color: var(--default-background-color);
	font-weight: bold;
}

main.login .copyright {
	line-height: 1.5em;
	font-size: 75%;
	color: gray;
}


/******************************************************************************
 * MAIN CARD VIEW                                                             *
 ******************************************************************************/

main.cards {
	overflow: auto;
	display: flex;
	flex-flow: row wrap;
	align-items: center;
	justify-content: center;
	padding: 5rem 1rem 4rem 1rem;
}

/******************************************************************************
 * MAIN CARD VIEW -- WEEK SEPARATORS                                          *
 ******************************************************************************/

main.cards > div.week {
	font-size: 110%;
	display: flex;
	height: 1em;
	padding: 0.5rem 1rem;
	margin: 1rem;
	width: 100%;
	align-items: center;
	text-transform: uppercase;
	font-weight: normal;
	letter-spacing: 0.05em;
	border-radius: 5px;
	color: var(--week-color);
}

main.cards > div.week > hr {
	flex: 0 0 1rem;
	height: 0px;
	border: none;
	border-bottom: 1px solid var(--week-color);
}

main.cards > div.week > hr:first-child,
main.cards > div.week > hr:last-child {
	flex: 1 1 auto;
}

main.cards > div.week > span {
	font-weight: bold;
	margin: 0 0.2rem 0 0.2rem;
}

/******************************************************************************
 * MAIN CARD VIEW -- CARDS                                                    *
 ******************************************************************************/

/* Single column mode (mostly for mobile) */
main.cards div.card_container {
	flex: 1 1 65rem;
	display: grid;
	grid-template-columns: 100%;
	max-width: 75rem;
}

/* Multi column modes. Use a grid, enable maximum card height with scrolling. */
@media (min-width: 65rem) {
header button#btn_view {
	display: inline-block;
}

main.cards:not(.continuous) div.card_container {
	grid-template-columns: 50% 50%;
	max-width: none;
}

main.cards:not(.continuous) div.entry {
	max-height: 40rem;
}

main.cards:not(.continuous) div.entry > div.content:after {
	content: ' ';
	display: block;
	height: 1rem;
}
}

@media (min-width: 95rem) {
main.cards:not(.continuous) div.card_container {
	grid-template-columns: 33.3% 33.3% 33.3%;
}
}

@media (min-width: 125rem) {
main.cards:not(.continuous) div.card_container {
	grid-template-columns: 25% 25% 25% 25%;
}
}

@media (min-width: 155rem) {
main.cards:not(.continuous) div.card_container {
	grid-template-columns: 20% 20% 20% 20% 20%;
}
}

@media (min-width: 185rem) {
main.cards:not(.continuous) div.card_container {
	grid-template-columns: 16.6% 16.6% 16.6% 16.6% 16.6% 16.6%;
}
}

main.cards div.entry {
	display: grid;
	grid-template-rows: auto 1fr auto;

	justify-self: stretch;
	align-self: stretch;
	background-color: var(--default-background-color);
	box-shadow: var(--shadow-color) 2px 2px 5px;
	border-radius: 10px 10px 3px 3px;
	padding: 0;
	min-width: 25rem;
	max-width: 75rem; 
	margin: 1rem;
	text-align: left;
	hyphens: auto;
}

main.cards div.entry > div.meta {
	flex: 0 0 auto;
	display: flex;
	align-self: start;
	align-items: center;
	padding: 0.5rem 0;
	border-radius: 5px 5px 0px 0px;
	border-bottom: 1px solid var(--box-highlight-color);
	line-height: 1.5;
}

main.cards div.entry > div.meta > .author {
	font-weight: bold;
	margin-left: 2rem;
	flex: 1 0 auto;
}

main.cards div.entry > div.meta > .date {
	flex: 0 0 auto;
}

main.cards div.entry > div.meta > button.edit {
	background: none;
	border: none;
}

main.cards div.entry > div.meta > button.edit::before {
	transition: 0.1s;
	flex: 0 0 auto;
	content: "\f303";
	width: 1rem;
	opacity: 0;
	color: var(--default-background-color);
}

main.cards div.entry:hover > div.meta > button.edit:not(:disabled)::before,
main.cards div.entry > div.meta > button.edit:not(:disabled):focus::before {
	opacity: 1;
}

main.cards div.content h1, 
main.cards div.content h2, 
main.cards div.content h3 {
	font-weight: bold;
}

main.cards div.content li{
	margin-left: 1rem;
}

main.cards div.content pre {
	background-color: #f0f0f0; /*pre color background */
	overflow-x: auto;
	width: 100%;
	display: block;
}

main.cards div.entry > div.content {
	align-self: stretch;
	justify-self: start;
	flex: 1 1 auto;
	padding: 1rem 2rem 1rem 1rem;
	line-height: 1.75;

	overflow: auto;
	width: 100%;
	box-sizing: border-box;	
}

main.cards div.entry > div.extra {
	align-self: end;
	flex: 0 0 auto;
	padding: 0.5rem 1rem;
	font-size: 90%;
	text-align: right;
	background-color: var(--card-footer-color);
}

main.cards span.link {
	cursor: pointer;
}

main.cards span.link:hover {
	text-decoration: underline;
}

main.cards div.entry > div.extra > span.tags {
	display: block;
}

main.cards div.entry > div.extra > span.history {
	display: block;
	font-style: italic;
}

main.cards div.entry > div.extra > span.tags > span.tag {
	font-weight: bold;
	border-radius: 0.25rem;
	display: inline-block;
	margin: 0.25rem;
	margin-right: 0;
	padding: 0.25rem;
	color: var(--default-background-color);
}

/******************************************************************************
 * MAIN CARD VIEW -- MESSAGES                                                 *
 ******************************************************************************/

main.cards div.message {
	margin-top: 5rem;
	text-align: center;
	background-color: var(--default-background-color);
	padding: 2rem;
	box-shadow: 0 0 7px silver;
}

main.cards div.message > h1 {
	font-size: 200%;
	color: var(--main-ui-color);
	padding: 1rem 2rem;
}

main.cards div.message > h1 > span {
	font-size: 200%;
	display: block;
	margin-bottom: 0.5em;
}

main.cards div.message > hr {
	border: none;
	border-bottom: 3px solid var(--main-ui-color);
}

main.cards div.message > span {
	display: block;
	max-width: 20em;
	line-height: 1.5em;
	padding: 1rem 2rem;
}


/******************************************************************************
 * MAIN EDITOR VIEW                                                           *
 ******************************************************************************/

main.editor {
	overflow: auto;
	display: flex;
	flex-direction: row;
	align-items: stretch;
	justify-content: space-evenly;
	padding: 5rem 1rem 4rem 1rem;
}

main.editor,
main.editor input,
main.editor select,
main.editor label,
main.editor textarea,
main.editor pre {
	box-sizing: border-box;
}

main.editor {
	display: flex;
	flex-direction: column;
	background-color: var(--default-background-color);
	min-height: 100%;
	padding-bottom: 1rem;
}

main.editor label {
	font-weight: bold;
	margin-top: 1rem;
	margin-bottom: 0.25rem;
}

main.editor > label {
	flex: 0 0 auto;
}

main.editor > div.row {
	display: flex;
	flex-direction: row;
	align-items: stretch;
}

main.editor input[type="date"] {
	flex: 0 0 11.5rem;
}

main.editor > div.row > input,
main.editor > div.row > select,
main.editor > div.row > label,
main.editor textarea,
main.editor div.CodeMirror {
	flex: 1 0 10rem;
}

main.editor > div.row > select,
main.editor > div.row > input,
main.editor > div.row > label {
	height: unset;
}


main.editor > div.row > input:not(:first-child),
main.editor > div.row > label:not(:first-child) {
	margin-left: 0.5rem;
}

main.editor input[type="date"],
main.editor label[for="inp_date"] {
	flex: 0 0 10rem !important;
}

/******************************************************************************
 * USER MANAGER VIEW                                                          *
 ******************************************************************************/

main.user_manager {
	padding: 5rem 0 0 0;
	height: 100%;
	margin: 0 auto;
	box-sizing: border-box;
	display: flex;
	max-width: 120rem;
	box-shadow: 0 0 5px var(--shadow-color);
}

main.user_manager div.container {
	flex: 1 1 auto;
	overflow: auto;
}

main.user_manager table {
	position: relative;
	flex: 1 0 0;
	width: 100%;
	table-layout: fixed;
}

main.user_manager table button {
	display: inline-block;
	border: none !important;
	box-shadow: none !important;
	vertical-align: middle;
	background: transparent;
	width: 3em;
	height: 2em;
	color: var(--bright-button-color);
}

main.user_manager .button_container {
	float: right;
}

button.reset .icon::before {
	content: "\f0e2";
}

button.edit .icon::before {
	content: "\f303";
}

button.cancel .icon::before {
	content: "\f057";
}

button.save .icon::before {
	content: "\f058";
}

button.delete .icon::before {
	content: "\f2ed";
}

button.clipboard .icon::before {
	content: "\f328";
}

button.email .icon::before {
	content: "\f658";
}

button.clipboard.error .icon {
	color: var(--error-color);
}

button.clipboard.success .icon {
	color: var(--success-color);
}

main.user_manager table th {
	position: sticky;
	top: 0;
	z-index: 1;
	background-color: var(--user-manager-color);
	font-weight: bold;
	color: var(--default-background-color);
	text-transform: uppercase;
	letter-spacing: 0.1em;
}

main.user_manager table th,
main.user_manager table td {
	text-align: left;
	padding: 1em;
	border-bottom: 1px solid var(--box-highlight-color);
}

main.user_manager table td.display_name span.success {
	color: var(--success-color);
}

main.user_manager table td.display_name span.success::before {
	content: '\f00c';
}

main.user_manager table th.actions,
main.user_manager table td.actions {
	width: 8em;
	text-align: right;
}

main.user_manager table td.actions span {
	user-select: none;
	-moz-user-select: none;
}

main.user_manager table tr.last_in_group td {
	border-bottom: 1px solid transparent;
}

main.user_manager table td {
	background-color: var(--default-background-color);
}

main.user_manager table tr.user:hover td {
	background-color: #f9f9f9;
}

main.user_manager table th > span,
main.user_manager table td > span {
	display: inline-block;
	box-sizing: border-box;
	padding: 0.5em;
	line-height: 1em;
	border: transparent 2px solid;
}

main.user_manager table td > span.colorcircle {
	display: inline-block;
	width: 1em;
	height: 1em;
	border-radius: 1em;
	vertical-align: middle;
}


main.user_manager table th:first-child,
main.user_manager table td:first-child {
	width: 1em;
	padding-right: 0;
}

main.user_manager table tr.success td {
	background-color: var(--success-background-color);
}

main.user_manager table tr.success:hover td {
	background-color: var(--success-background-highlight-color);
}

main.user_manager table tr.separator {
	color: var(--week-color);
	text-transform: uppercase;
}

main.user_manager table tr.separator > td {
	padding-top: 1.5rem;
	position: sticky;
	z-index: 1;
	top: calc(4em + 4px);
	font-weight: bold;
	background-color: var(--default-background-color);
}

main.user_manager table td.id span,
main.user_manager table td.auth_method span,
main.user_manager table select,
main.user_manager table input {
	min-width: 9em;
}

main.user_manager table input,
main.user_manager table td.role select {
	width: 100%;
}

main.user_manager table td.auth_method select {
	width: calc(100% - 3.5em);
}

main.user_manager input[name='inp_name'],
main.user_manager span[name='lbl_name'],
main.user_manager span[name='lbl_password'] {
	font-family: monospace;
}


/******************************************************************************
 * PREFERENCES VIEW                                                           *
 ******************************************************************************/

main.preferences {
	overflow: auto;
	flex-direction: row;
	align-items: stretch;
	justify-content: left;
	padding: 5rem 2rem 0 2rem;
	background-color: var(--default-background-color);
	min-height: 100%;
	line-height: 1.5;
	box-sizing: border-box;
}

main.preferences emph {
	font-weight: bold;
	background-color: var(--highlight-color);
}

main.preferences section {
	max-width: 40rem;
	margin: 0 auto 2rem auto;
	padding: 0 0 2rem 0;
}

main.preferences section:not(:last-child) {
	border-bottom: 2px solid var(--main-ui-color);
}

main.preferences h1 {
	font-size: 200%;
	color: var(--main-ui-color);
	margin: 1em 0;
}

main.preferences p {
	margin: 1rem 0;
}

main.preferences label {
	display: block;
	padding: 1rem 0;
}

main.preferences label > span {
	position: relative;
	display: block;
	font-weight: bold;
}

main.preferences div.row {
	display: flex;
}

main.preferences progress {
	margin: 1rem 0 0.25rem 0;
	height: 0.5rem;
}

main.preferences input,
main.preferences progress {
	flex: 1 0 auto;
}

main.preferences input {
	padding-right: 3rem;
	background-position: right center;
	background-repeat: no-repeat;
}

main.preferences input.ok {
	background-image: url("data:image/svg+xml;utf8,%3Csvg%20width%3D'10mm'%20height%3D'5mm'%20version%3D'1.1'%20viewBox%3D'0%200%2010%205'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cg%20transform%3D'translate(-.4%20.08)'%3E%3Cpath%20d%3D'm1%203%202%201%203-4'%20fill%3D'none'%20stroke%3D'%234e9a06'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}

main.preferences div.row span.placeholder,
main.preferences div.row button {
	display: block;
	width: 3em;
}

main.preferences div.row button {
	background: transparent;
	border: 2px solid var(--default-background-color);
}

main.preferences div.row button:hover {
	box-shadow: none;
}

main.preferences div.row button .icon::before {
	color: var(--bright-button-color);
}

main.preferences div.row button.revealed .icon::before {
	content: "\f06e";
}

main.preferences div.row button.hidden .icon::before {
	content: "\f070";
}


main.preferences span.strength {
	flex: 1 0 auto;
	text-align: right;
	font-style: italic;
}

span.strength.weak {
	color: var(--password-weak-color);
}

span.strength.good {
	color: var(--password-good-color);
}

span.strength.strong {
	color: var(--password-strong-color);
	font-weight: bold;
}

main.preferences div.buttons {
	display: flex;
	justify-content: flex-end;
}

/******************************************************************************
 * DIALOGUE                                                                   *
 ******************************************************************************/

div.dialogue {
	background-color: var(--default-background-color);
	padding: 0rem 3rem;
	max-width: 40rem;
	text-align: left;
	box-shadow: 0 0 20px var(--shadow-color);
	line-height: 1.5em;
}

div.dialogue h1 {
	color: var(--main-ui-color);
	font-size: 200%;
}

div.dialogue h1 span {
	font-size: 200%;
	margin-bottom: 0.5em;
}

div.dialogue > * {
	margin: 2rem 0;
}

div.dialogue > * {
	box-sizing: border-box;
}

div.buttons {
	justify-content: flex-end;
	display: flex;
	flex-wrap: wrap;
}

div.buttons > :last-child {
	margin-right: 0;
}

div.buttons > button {
	transition: 0.1s;
	flex: 0 0 auto;
	background-color: transparent;
	border: 2px solid var(--main-ui-color);
	box-shadow: var(--shadow-color) 2px 2px 5px;
	font-weight: normal;
	padding: 0 1rem;
	margin-right: 1rem;
	min-width: 7rem;
	text-align: center;
	height: 3rem;
	vertical-align: middle;
}

div.buttons > button:last-child {
	background-color: var(--main-ui-color);
	color: var(--default-background-color);
	font-weight: bold;
}

div.dialogue h2 {
	margin-top: 1rem;
	font-style: italic;
}

div.dialogue pre {
	padding: 0.5rem;
	margin-top: 0.5rem;
	background-color: var(--box-highlight-color);
	font-family: monospace;
	word-wrap: pre-wrap;
	overflow-x: auto;
}

progress {
	background-color: var(--box-highlight-color);
	border: none;
	color: var(--main-ui-color);
	-webkit-appearance: none;
	appearance: none;
}

progress::-webkit-progress-bar {
	background: var(--box-highlight-color);
}

progress::-moz-progress-bar {
	background: var(--main-ui-color);
}

progress::-webkit-progress-value {
	background: var(--main-ui-color);
}

progress.strength.weak::-moz-progress-bar {
	background: var(--password-weak-color);
}

progress.strength.weak::-webkit-progress-value {
	background: var(--password-weak-color);
}

progress.strength.good::-moz-progress-bar {
	background: var(--password-good-color);
}

progress.strength.good::-webkit-progress-value {
	background: var(--password-good-color);
}

progress.strength.strong::-moz-progress-bar {
	background: var(--password-strong-color);
}

progress.strength.strong::-webkit-progress-value {
	background: var(--password-strong-color);
}

div.dialogue > div.buttons > progress {
	flex: 1 0 auto;
	height: 0.5rem;
}

/******************************************************************************
 * LOADING SCREEN                                                             *
 ******************************************************************************/

body div.loading {
	padding: 0;
	margin: 0;
	width: 100%;
	height: 100%;
	overflow: none;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
}

body div.loading svg {
	width: 10rem;
	height: 10rem;
}

body div.loading svg .bubbles {
	animation: spin 2s linear infinite;
	transform-origin: 62% 84%;
}

body div.loading .copyright {
	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	padding: 1rem;
	color: var(--bright-button-color);
	font-size: 80%;
	text-align: center;
}

div.overlay {
	position: fixed;
	display: flex;
	justify-content: center;
	align-items: center;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	margin: 0;
	padding: 0;
	z-index: 999;
	background-color: var(--transarent-color);
	transition: background-color 0.1s;
}

div.overlay.sidebar {
	justify-content: flex-end;
	align-items: stretch;
}

div.overlay.opaque {
	background-color: var(--dim-background-color);  
}

div.overlay > div.busy {
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	height: 0.5rem;
	background-color: var(--main-ui-color);
}

body.inactive {
	filter: grayscale(0.9) brightness(1.5);
}

@keyframes spin {
	0% { transform: rotate(0deg); }
	100% { transform: rotate(360deg); }
}

/******************************************************************************
 * MENU                                                                       *
 ******************************************************************************/

.menu {
	padding: 0;
	min-width: 25rem;
}

.menu > div.view_buttons {
	padding: 1rem;
	display: flex;
	justify-content: center;
	border-bottom: 1px solid silver;
}

.menu > div.view_buttons > button {
	transition: 0.1s;
	flex: 0 0 auto;
	flex-direction: column;
	border: 2px solid var(--main-ui-color);
	color: inherit;
	font-weight: inherit;
	padding: 1rem;
	margin-right: 1rem;
	min-width: 7rem;
	align-items: center;
	background-color: var(--default-background-color);
}

.menu > div.view_buttons > button.active {
	font-weight: bold;
	color: var(--default-background-color);
	background-color: var(--main-ui-color);
}


.menu > div.view_buttons > button > span {
	margin: 0.25rem;
}

.menu {
	max-width: 25em;
	background-color: var(--default-background-color);
	display: flex;
	flex-direction: column;
	box-shadow: var(--shadow-color) 0 0 5px;
}

.menu h1 {
	padding: 1rem;
	font-size: 200%;
	font-weight: normal;
	display: flex;
	justify-content: space-between;
	align-items: center;
	color: var(--default-background-color);
	box-shadow: var(--shadow-color) 0 0 5px;
}

.user_emblem {
	position: relative;
	display: flex;
	justify-content: center;
	align-items: center;
	flex: 0 0 auto;
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	text-align: center;
	vertical-align: middle;
	background-color: var(--default-background-color);
	cursor: pointer;
}

.user_initials {
	position: relative;
	top: -0.125rem;
	text-transform: uppercase;
}

.menu ul {
	margin: 0;
	padding: 0;
}

.menu ul li {
	display: block;
}

.menu ul li a {
	display: flex;
	justify-content: flex-start;
	align-items: center;
	text-decoration: none;
	padding: 1rem;
	border-bottom: 1px solid silver;
}

.menu ul li a .icon {
	font-size: 150%;
	width: 2em;
}

.menu ul li a.close {
	display: none;
}

.menu ul li a.close .icon::before {
	content: '\f410';
}

button#btn_card_view .icon::before {
	content: '\f009';
}

button#btn_list_view .icon::before {
	content: '\f039';
}

a[href="#users"] .icon::before {
	content: '\f0c0';
}

a[href="#preferences"] .icon::before {
	content: '\f013';
}

a[href="#help"] .icon::before {
	content: '\f059';
}

a[href="#logout"] .icon::before {
	content: '\f2f5';
}

/******************************************************************************
 * AUTOCOMPLETE                                                               *
 ******************************************************************************/

.autocomplete-suggestions {
	text-align: left;
	cursor: default;
	box-sizing: border-box;
	border: var(--main-ui-color) 2px solid;
	border-top: 0;
	background: var(--default-background-color);
	box-shadow: -1px 1px 3px var(--transparent-black);
	border-radius: 0 0 2px 2px;

	/* core styles should not be changed */
	position: absolute;
	display: none;
	z-index: 9999;
	max-height: 254px;
	overflow: hidden;
	overflow-y: auto;
	box-sizing: border-box;
	padding: 0.25rem;
}

.autocomplete-suggestion {
	position: relative;
	padding: 0 0.25rem;
	line-height: 2em;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.autocomplete-suggestion span.icon {
	position: absolute;
	left: 0.5rem;
}

.autocomplete-suggestion span.icon.user {
	display: block;
	top: 0.6em;
	width: 0.75em;
	height: 0.75em;
	border-radius: 100%;
}

.autocomplete-suggestion span.icon.tag::before {
	content: "#";
}

.autocomplete-suggestions.search {
	position: fixed;
	padding: 0.25rem 0.5rem;
}

.autocomplete-suggestions.search .autocomplete-suggestion {
	padding: 0 2rem;
}

mark {
	font-weight: bold;
	background-color: var(--highlight-color);
}

.autocomplete-suggestion.selected {
	background: var(--box-highlight-color);
}



/******************************************************************************
 * MOBILE LAYOUT                                                              *
 ******************************************************************************/

@media screen and (max-width: 600px), screen and (max-height: 600px) {

	main.cards > div.week {
		font-size: 100%;
	}

	body {
		font-size: 10pt;
	}

	body > * {
		padding: 0.5rem;
	}

	header {
		height: 3rem;
	}

	header h1 {
		line-height: 1.5em;
	}

	main.cards {
		padding: 3rem 0 4rem 0;
	}

	main.editor {
		padding: 3rem 0.5rem 0.5rem 0.5rem;
	}

	main.user_manager {
		padding: 3rem 0 0.5rem 0;
	}

	main.editor label {
		margin-top: 0.5rem;
	}

	header > button > span.icon::before {
		margin-left: -0.4rem;
		margin-right: -0.4rem;
		font-size: 100% !important;
	}

	header > button > span.caption {
		display: none;
	}

	header > :not(:last-child) {
		margin-right: 0.5rem;
	}

	main.cards div.entry {
		min-width: 15rem;
	}

	main.cards div.entry > div.meta > .author {
		margin-left: 1rem;
	}

	main.cards div.entry > div.meta > button.edit {
		margin-right: 0rem;
	}

	main .cards div.entry > div.text {
		padding: 0.5rem 1rem;
		line-height: 1.75;
	}

	main.cards > div.week {
		margin-top: 0.5rem;
		margin-bottom: 0.5rem;
	}

	.menu > div.buttons {
		display: none;
	}

	.menu ul li a.close {
		display: flex;
	}

	.menu {
		min-width: unset;
		max-width: unset;
		height: 100%;
		width: 100%;
	}

	header,
	footer {
		padding: 0.25rem 0.5rem;
	}

	footer .page_counter {
		display: none;
	}

	footer #lbl_post {
		display: none;
	}

	select {
		padding-left: 0.25rem;
		padding-right: 1.5rem;
	}

	footer select#sel_page {
		max-width: 5.75rem;
	}

	footer select#sel_entry_count {
		max-width: 6.75rem;
	}

	div.dialogue > div.buttons > button {
		min-width: 4rem;
	}

}
